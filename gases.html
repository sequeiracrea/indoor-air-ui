<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Gases – Scatter/Lines</title>

  <link rel="stylesheet" href="assets/css/style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- API + Gases JS -->
  <script src="assets/js/api.js"></script>
  <script src="assets/js/gases.js" defer></script>

  <style>
    /* Empêche les charts de déformer la page */
    .fixed-chart-container {
      width: 100%;
      max-height: 340px;
      position: relative;
    }

    /* Boutons presets */
    .btn-usecase {
      background-color:#f0f0f0;
      border:1px solid #ccc;
      padding:0.3rem 0.6rem;
      cursor:pointer;
      border-radius:4px;
      font-size:0.85rem;
      transition:0.2s;
    }
    .btn-usecase:hover {
      background-color:#ddd;
    }
  </style>
</head>

<body>
  <header class="app-header">
    <h1>Gases — séries & scatter dynamique</h1>
  </header>

  <nav class="top-nav">
    <a href="index.html">Dashboard</a>
    <a href="timeline.html">Timeline</a>
    <a href="gases.html" class="active">Gases</a>
    <a href="scatterbar.html">ScatterBar</a>
    <a href="comfort.html">Confort</a>
    <a href="events.html">Stabilité</a>
    <a href="relationships.html">Relations</a>
  </nav>

  <main class="container">

    <!-- -------------------------------------------------------
         SECTION SCATER + HISTOGRAMMES
    --------------------------------------------------------- -->
    <div id="scatterContainer" style="display:flex; flex-direction:column; gap:1rem;">

      <!-- Titre -->
      <h2 id="scatterTitle">Analyse croisée des variables</h2>

      <!-- Sélecteurs X/Y -->
      <div style="display:flex; gap:1rem; flex-wrap:wrap;">
        <label>
          X :
          <select id="select-x"></select>
        </label>

        <label>
          Y :
          <select id="select-y"></select>
        </label>

        <!-- Presets / Cas d’usage -->
        <label>
          Presets :
          <select id="preset-select">
            <option value="">(Aucun preset)</option>
          </select>
        </label>

        <button id="resetScatter" class="btn-usecase">Réinitialiser</button>
      </div>

      <!-- Description du preset -->
      <div id="preset-description" style="font-style:italic; margin-top:0.3rem;"></div>

      <!-- Scatter -->
      <div class="fixed-chart-container">
        <canvas id="scatter-plot"></canvas>
      </div>

      <!-- Histogrammes -->
      <div style="display:flex; gap:1rem; margin-top:1rem;">
        <div class="hist-container" style="flex:1;">
          <h4>Histogramme X</h4>
          <div class="fixed-chart-container">
            <canvas id="histogram-x"></canvas>
          </div>
        </div>

        <div class="hist-container" style="flex:1;">
          <h4>Histogramme Y</h4>
          <div class="fixed-chart-container">
            <canvas id="histogram-y"></canvas>
          </div>
        </div>
      </div>

    </div>

    <!-- -------------------------------------------------------
         GRAPHES INDIVIDUELS (bas de page)
    --------------------------------------------------------- -->
    <section class="grid-cards" style="margin-top:120px;">
      <div class="card chart-card">
        <h3>CO</h3>
        <canvas id="coChart" style="height:200px;"></canvas>
      </div>

      <div class="card chart-card">
        <h3>CO₂</h3>
        <canvas id="co2Chart" style="height:200px;"></canvas>
      </div>

      <div class="card chart-card">
        <h3>NO₂</h3>
        <canvas id="no2Chart" style="height:200px;"></canvas>
      </div>

      <div class="card chart-card">
        <h3>NH₃</h3>
        <canvas id="nh3Chart" style="height:200px;"></canvas>
      </div>
    </section>

  </main>

</body>
</html>
